# 12-10-18

### Redux

Context API는 2018년에 나왔기 때문에 리액트가 생기고 난 후 상태를 관리하기 위해 비공개 Context API, Redux등이 존재했다. Redux가 2018년 까지는 Context API와 같은 기능을 해온 것이다.

리덕스는...
- 컨텍스트 기능
- 고급 상태관리 기법

리덕스를 사용할 때, 컨텍스트 기능만 사용하고 싶어도 고급 상태관리 기법도 배워야하는 불편함이 있었다.

'값'으로 다루면 좋은 것들에는...
- 제너레이터
- 프로미스 

리덕스는 '상태변화'를 값으로 변화시킨다.
- 상태변화 logging이 매우 용이하다.
- undo/redo 하기가 매우 쉬워진다.
- 시간 여행.

---

**store, action, dispatch, subscribe, reducer 개념을 이애하는 것이 목표!**

store: 여러 기능을 갖추고 있는 상태 저장소
  리액트와는 별개의 공간(컨테이너)에 상태가 저장 -> 이것을 store라고 한다.

  - 이 안에 값을 투입하면 상태가 바뀐다(리액트에서는 method를 호출하면 상태가 바뀐다). 이 투입되는 값(상태변화를 나타내는 값 - 객체)을 가지고 'action'이라고 한다.
  - 이 'action'을 store에 넣는 것을 dispatch라고 한다.

그럼 리액트와는 어떻게 연동?
  - action이 투입(dispatch)될 때마다 setState를 호출해주고 싶은 것인데 store와 setState을 연결해주기 위해 subscribe(상태가 바뀔 때마다 실행할 함수를 등록하는 절차)를 사용한다.
  - store 안에 'reducer'가 들어있는데, reducer는 이전 상태와 action을 받아서 다음 상태를 반환하는 함수이다.

처음에 store를 만들 때, reducer(어떻게 실행될 지에 대한 조건도 포함)를 넣어서 만든다. action이 dispatch되면 reducer(이전 상태와 action을 가지고 계산)를 통해 필요한 계산을 한 후 다시 store에 저장한다. 그리고 subscribe를 통해 react의 setState을 업데이트 한다.

리액트에서 왜 불변성을 사용하는지
- 바뀐 참조들만 비교할 수 있도록 하여 빠른 렌더링을 가능하게 하기 위해


리덕스에서는 하나의 스토어만 사용해야 한다!! 
- 여러 리듀서를 하나의 리듀서로 합칠 수 있어야 한다


리듀서의 이름은 상태의 이름과 똑같이 짓는 것이 관례